{namespace maps2=JWeiland\Maps2\ViewHelpers}

<f:layout name="Default" />

<f:section name="main">
	<f:render partial="FormErrors" arguments="{object: Club}"/>

	<f:form action="create" name="club" object="{club}" enctype="multipart/form-data">
		<f:if condition="{club.addresses}">
			<f:then>
				<f:for each="{club.addresses}" as="address" iteration="iterator">
					<input type="hidden" name="tx_clubdirectory_clubdirectory[club][addresses][{iterator.index}][__identity]" value="{address.uid}" />
					<dl>
						<dt>{f:translate(key: 'tx_clubdirectory_domain_model_address.title.{address.title}')}:</dt>
						<dd>
							{club.title}<br/>
							{address.street} {address.houseNumber}<br />
							{address.zip} {address.city}
						</dd>
					</dl>
					<maps2:widget.editPoi id="maps2_{iterator.index}" poiCollection="{address.txMaps2Uid}" prepend="tx_clubdirectory_clubdirectory[club][addresses][{iterator.index}]" mapOptions="{mapTypeId: 'google.maps.MapTypeId.ROADMAP'}" />
				</f:for>
			</f:then>
			<f:else><div>Sie haben keine Adresse angegeben</div></f:else>
		</f:if>
		<f:form.submit class="powermail_submit" value="{f:translate(key: 'create')}" />
	</f:form>
</f:section>
